@tailwind base;
@tailwind components;
@tailwind utilities;

/* ----- COULEURS UTILITAIRES ----- */
.bg-podium-gold      { background-color: #FFD700; }
.bg-podium-silver    { background-color: #C0C0C0; }
.bg-podium-bronze    { background-color: #CD7F32; }
.bg-background-light { background-color: #87CEEB; }
.bg-background-dark  { background-color: #4682B4; }

body {
  font-family: 'Inter', sans-serif;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  background: #fafbfc;
}

/* ----- SCROLLBAR ----- */
.custom-scrollbar::-webkit-scrollbar { width: 8px; }
.custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #555; }
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* ----- ANIMATIONS KEYFRAMES ----- */
@keyframes spin-fast        { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }
@keyframes fade-in-scale    { from { opacity: 0; transform: scale(0.9);} to { opacity: 1; transform: scale(1);} }
@keyframes fade-in          { from { opacity: 0; transform: scale(0.95);} to { opacity: 1; transform: scale(1);} }
@keyframes popin            { 0% { transform: scale(0.7); opacity:0;} 100% { transform: scale(1); opacity:1;} }
@keyframes badge-pop        { 0% { transform: scale(0.6) rotate(-10deg); opacity: 0;}
                             80% { transform: scale(1.12) rotate(2deg);}
                            100% { transform: scale(1) rotate(0deg); opacity: 1;} }
@keyframes bounce-in        { 0% { transform: scale(0.8); opacity:0; }
                             70% { transform: scale(1.1); opacity:1; }
                            100% { transform: scale(1); } }
@keyframes badge-jump       { 0% { transform: translateY(0) scale(1);}
                             30% { transform: translateY(-18px) scale(1.16) rotate(-7deg);}
                             70% { transform: translateY(-8px) scale(1.04) rotate(4deg);}
                            100% { transform: translateY(0) scale(1) rotate(0deg);} }
@keyframes glowBadge        { 0%,100% { filter: drop-shadow(0 0 0px #f0bfffcc);}
                             50%     { filter: drop-shadow(0 0 12px #c992ffcc);} }
@keyframes fadein           { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: translateY(0);} }
@keyframes soft-jump-badge  { 0% { transform: scale(1) translateY(0);}
                              25% { transform: scale(1.10) translateY(-11px);}
                              60% { transform: scale(1.04) translateY(-6px);}
                              100% { transform: scale(1) translateY(0);} }
@keyframes fadein-badge     { 0% { opacity: 0; transform: translateY(8px);} 100% { opacity: 1; transform: translateY(0);} }

/* ----- ANIM CLASSES ----- */
.animate-spin-fast        { animation: spin-fast 0.8s linear infinite; }
.animate-fade-in-scale    { animation: fade-in-scale 0.3s ease-out forwards; }
.animate-fade-in          { animation: fade-in 0.3s ease-out; }
.animate-popin            { animation: popin 0.4s cubic-bezier(.17,.67,.55,1.45);}
.animate-badge-pop        { animation: badge-pop 0.5s cubic-bezier(.17,.67,.47,1.43) both;}
.animate-bounce-in        { animation: bounce-in 0.5s cubic-bezier(.36,.6,.51,1.31) both;}
.animate-badge-jump       { animation: badge-jump 0.65s cubic-bezier(.36,1.8,.4,1) both;}
.animate-fadein           { animation: fadein 0.3s both;}
.animate-soft-jump-badge  { animation: soft-jump-badge 0.39s cubic-bezier(.6,1.7,.44,1);}
.animate-fadein-badge     { animation: fadein-badge 0.20s cubic-bezier(.54,1.7,.44,1); }
.animate-glowBadge        { animation: glowBadge 1.7s infinite alternate; }

/* ----- GRADIENT TEXT UTILITY (aussi sur Tailwind) ----- */
.text-gradient-gamify {
  background: linear-gradient(90deg, #ffc800, #fd5bff 60%, #6e2cff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
@layer utilities {
  .text-gradient-gamify {
    @apply bg-gradient-to-br from-yellow-400 via-pink-400 to-purple-600 bg-clip-text text-transparent;
  }
  .animate-glowBadge { animation: glowBadge 1.7s infinite alternate; }
}

/* ----- BADGE CAROUSEL GLASSY ----- */
.badge-widget-glassy {
  background: rgba(255,255,255,0.74);
  box-shadow: 0 10px 64px 0 rgba(140,100,255,0.13), 0 1.5px 16px 0 rgba(160,90,247,0.13);
  border-radius: 2.5rem;
  backdrop-filter: blur(20px) saturate(1.18);
  -webkit-backdrop-filter: blur(20px) saturate(1.18);
  padding: 20px 0 22px 0;
  margin: 0 auto;
  max-width: 650px;
  min-width: 170px;
  min-height: 148px;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  transition: box-shadow 0.19s, background 0.18s;
}

@media (max-width: 640px) {
  .badge-widget-glassy {
    max-width: 97vw;
    min-width: 0;
    padding: 10px 0 16px 0;
    border-radius: 1.25rem;
  }
}

/* ----- BADGE CARD APPLE-LIKE ----- */
.badge-card {
  position: relative;
  border-radius: 9999px;
  background: radial-gradient(circle at 65% 22%, #fff7eb 48%, #ffd1ff 100%), linear-gradient(180deg, #fffbe6 68%, #ffd7c2 130%);
  border: 3px solid #ffd700cc;
  box-shadow: 0 2px 15px 0 #ba98ff31, 0 0.5px 6px 0 #ffd0ff55;
  width: 92px;
  height: 92px;
  min-width: 92px;
  min-height: 92px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 0 auto 8px auto;
  transition: box-shadow 0.23s, border 0.19s, background 0.21s;
  z-index: 2;
  animation: fade-in-scale 0.45s cubic-bezier(.7,1.1,.4,1.15);
}

@media (max-width: 640px) {
  .badge-card {
    width: 65px;
    height: 65px;
    min-width: 65px;
    min-height: 65px;
    border-width: 2px;
  }
}

.badge-card.selected, .badge-card:active {
  box-shadow: 0 0 0 0px #fd5bff33, 0 0 24px 7px #fd5bff44;
  border-width: 3.5px;
}

/* Ic√¥ne (emoji ou SVG) */
.badge-emoji, .badge-svg-icon {
  font-size: 2.5rem;
  width: 44px;
  height: 44px;
  margin: 0 auto 2px auto;
  filter: drop-shadow(0 2.5px 7px #fd5bff6b) drop-shadow(0 0px 3px #ffc80055);
  transition: filter 0.19s;
  display: flex;
  align-items: center;
  justify-content: center;
}
@media (max-width: 640px) {
  .badge-emoji, .badge-svg-icon {
    font-size: 1.45rem;
    width: 33px; height: 33px;
  }
}

/* Titre Apple */
.badge-title {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: 1.09rem;
  text-align: center;
  letter-spacing: 0.04em;
  line-height: 1.13;
  margin-bottom: 5px;
  margin-top: 2px;
  background: linear-gradient(90deg, #e900ff 20%, #fd5bff 54%, #ffc800 90%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 1.5px 3.5px #fde68a65);
  white-space: pre-line;
}
@media (max-width: 640px) {
  .badge-title { font-size: 0.91rem; }
}

/* Info bas badge */
.badge-unlock-info {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: #ae8ff5;
  font-size: 0.86rem;
  font-weight: 500;
  opacity: 0.91;
  margin-bottom: 1.5px;
  margin-top: 3px;
  padding: 0 8px;
}
@media (max-width: 640px) {
  .badge-unlock-info { font-size: 0.72rem; padding: 0 2px; }
}
.badge-unlock-info .i-info {
  font-size: 1em;
  opacity: 0.84;
}

/* --- FOCUS RING ACCESSIBILITE --- */
.badge-card:focus, .badge-card:focus-visible {
  outline: 2px solid #ba53ff !important;
  outline-offset: 4px;
}

/* --- NAV DOTS DU CAROUSEL --- */
.badge-carousel-dots {
  display: flex; gap: 6px; justify-content: center; margin-top: 11px;
}
.badge-carousel-dot {
  width: 10px; height: 10px;
  border-radius: 9999px;
  background: #eee;
  transition: background 0.2s;
  border: 1.5px solid #d8d2ff;
  cursor: pointer;
}
.badge-carousel-dot.active {
  background: #c3a5ff;
  border-color: #a37cff;
  box-shadow: 0 0 0 3px #f3edff55;
}
