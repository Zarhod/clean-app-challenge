// src/AvatarSelectionModal.js
import React, { useState } from 'react';
import ListAndInfoModal from './ListAndInfoModal'; // Assurez-vous que le chemin est correct

const emojis = [
  '😀', '😁', '😂', '🤣', '😃', '😄', '😅', '😆', '😇', '😈', '😉', '😊', '😋', '😌', '😍', '🥰', '😘', '😗', '😙', '😚',
  '🤩', '🤔', '🤨', '😐', '😑', '😶', '🙄', '😏', '😮', '🤥', '🤫', '🤭', '🤯', '😳', '😱', '😨', '😰', '😢', '😥', '🤤',
  '😭', '😓', '😪', '😴', '🥱', '😵', '🤐', '🥴', '🤢', '🤮', '🤧', '😷', '🤒', '🤕', '🤑', '🤠', '🥳', '😎', '🤓', '🧐',
  '😮‍💨', '😤', '😡', '😠', '🤬', '😈', '👿', '💀', '👻', '👽', '🤖', '💩', '🤡', '👹', '👺', '🔥', '✨', '🌟', '💫', '💥',
  '💯', '👍', '👎', '👏', '🙌', '🤝', '🙏', '💪', '🧠', '👀', '🧑‍💻', '🦸', '🦹', '🧙', '🧚', '🧜', '🧛', '🧟', '🧑‍🚀', '🧑‍🔬',
  '🧑‍🎨', '🧑‍🎤', '🧑‍🍳', '🧑‍🎓', '🧑‍🏫', '🧑‍🏭', '🧑‍🔧', '🧑‍🌾', '🧑‍🚒', '👮', '🕵️', '💂', '👷', '🤴', '👸', '👳', '👲', '🧕', '🤵',
  '👰', '🤰', '🤱', '👼', '🎅', '🤶', '🧑‍🎄', '🧝', '🧞', '🧟', '🧑‍🦱', '🧑‍🦰', '🧑‍🦳', '🧑‍🦲', '👶', '🧒', '👦', '👧', '🧑', '👨',
  '👩', '🧓', '👴', '👵', '🙍', '🙎', '🙅', '🙆', '💁', '🙋', '🧏', '🙇', '🤦', '🤷', '🧑‍⚕️', '🧑‍⚖️', '🧑‍✈️', '🧑‍💼', '🧑‍🔧', '🧑‍🏭',
  '🧑‍🌾', '🧑‍🍳', '🧑‍🎓', '🧑‍🎤', '🧑‍🎨', '🧑‍🏫', '🧑‍🔬', '🧑‍💻', '🧑‍🚀', '🧑‍🚒', '👮', '🕵️', '💂', '👷', '🤴', '👸', '👳', '👲', '🧕', '🤵',
  '👰', '🤰', '🤱', '👼', '🎅', '🤶', '🧑‍🎄', '🧝', '🧞', '🧟', '🧑‍🦱', '🧑‍🦰', '🧑‍🦳', '🧑‍🦲', '👶', '🧒', '👦', '👧', '🧑', '👨',
  '👩', '🧓', '👴', '👵', '🙍', '🙎', '🙅', '🙆', '💁', '🙋', '🧏', '🙇', '🤦', '🤷', '🧑‍⚕️', '🧑‍⚖️', '🧑‍✈️', '🧑‍💼', '🧑‍🔧', '🧑‍🏭',
  '🧑‍🌾', '🧑‍🍳', '🧑‍🎓', '🧑‍🎤', '🧑‍🎨', '🧑‍🏫', '🧑‍🔬', '🧑‍💻', '🧑‍🚀', '🧑‍🚒', '⚽', '🏀', '🏈', '⚾', '🥎', '🎾', '🏐', '🏉', '🥏', '🎳',
  '🏏', '🏑', '🏒', '🥍', '🏓', '🏸', '🥊', '🥋', '🥅', '⛳', '⛸️', '🎣', '🤿', '🎽', '🎿', '🏂', '🛷', '🥌', '🎯', '_ _',
  '🎮', '🎲', '🧩', '🧸', '🪅', '🪆', '🎊', '🎉', '🎋', '🎍', '🎎', '🎏', '🎐', '🎑', '🧧', '🎁', '🎀', '🪢', '✉️', '📧',
  '📩', '📨', '📧', '💌', '📮', '📪', '📫', '📬', '📭', '📦', '📊', '📈', '📉', '🗓️', '🗒️', '📅', '📆', '🗓️', '📇', '📜',
  '📋', '📁', '📂', '🗂️', '🗞️', '📰', '🗞️', '📖', '📚', '🔗', '📎', '🖇️', '✂️', '🖊️', '🖋️', '✒️', '✏️', '🖍️', '🖌️', '🔍',
  '🔎', '💡', '🔦', '🕯️', '🗑️', '🛢️', '🚿', '🛁', '🚽', '🧻', '🧼', '🪥', '🧴', '🧽', '🧹', '🧺', '🪣', '🔑', '🗝️', '🔐',
  '🔒', '🔓', '🔔', '🔕', '📣', '📢', '💬', '💭', '🗣️', '👤', '👥', '🫂', '👣', '🦰', '🦱', '🦳', '🦲', '🧑‍🦰', '🧑‍🦱', '🧑‍🦳',
  '🧑‍🦲', '🧔', '👩‍🦰', '👩‍🦱', '👩‍🦳', '👩‍🦲', '👨‍🦰', '👨‍🦱', '👨‍🦳', '👨‍🦲', '👱‍♀️', '👱', '👱‍♂️', '🙍‍♀️', '🙍', '🙍‍♂️', '🙎‍♀️', '🙎', '🙎‍♂️',
  '🙅‍♀️', '🙅', '🙅‍♂️', '🙆‍♀️', '🙆', '🙆‍♂️', '💁‍♀️', '💁', '💁‍♂️', '🙋‍♀️', '🙋', '🙋‍♂️', '🧏‍♀️', '🧏', '🧏‍♂️', '🙇‍♀️', '🙇', '🙇‍♂️', '🤦‍♀️',
  '🤦', '🤦‍♂️', '🤷‍♀️', '🤷', '🤷‍♂️', '🧑‍⚕️', '👩‍⚕️', '👨‍⚕️', '🧑‍🎓', '👩‍🎓', '👨‍🎓', '🧑‍🏫', '👩‍🏫', '👨‍🏫', '🧑‍⚖️', '👩‍⚖️', '👨‍⚖️', '🧑‍🌾', '👩‍🌾',
  '👨‍🌾', '🧑‍🍳', '👩‍🍳', '👨‍🍳', '🧑‍🔧', '👩‍🔧', '👨‍🔧', '🧑‍🏭', '👩‍🏭', '👨‍🏭', '🧑‍💼', '👩‍💼', '👨‍💼', '🧑‍🔬', '👩‍🔬', '👨‍🔬', '🧑‍💻', '👩‍💻',
  '👨‍💻', '🧑‍🎤', '👩‍🎤', '👨‍🎤', '🧑‍🎨', '👩‍🎨', '👨‍🎨', '🧑‍✈️', '👩‍✈️', '👨‍✈️', '🧑‍🚀', '👩‍🚀', '👨‍🚀', '🧑‍🚒', '👩‍🚒', '👨‍🚒', '👮‍♀️', '👮',
  '👮‍♂️', '🕵️‍♀️', '🕵️', '🕵️‍♂️', '💂‍♀️', '💂', '💂‍♂️', '👷‍♀️', '👷', '👷‍♂️', '🤴', '👸', '👳‍♀️', '👳', '👳‍♂️', '👲', '🧕', '🤵‍♀️', '🤵',
  '👰‍♀️', '👰', '👰‍♂️', '🤰', '🤱', '👼', '🎅', '🤶', '🧑‍🎄', '🧝‍♀️', '🧝', '🧝‍♂️', '🧞‍♀️', '🧞', '🧞‍♂️', '🧟‍♀️', '🧟', '🧟‍♂️', '🧠',
  '🧡', '💛', '💚', '💙', '💜', '🤎', '🖤', '🤍', '❤️‍🔥', '❤️‍🩹', '💔', '❣️', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '🧡',
  '💛', '💚', '💙', '💜', '🤎', '🖤', '🤍', '❤️‍🔥', '❤️‍🩹', '💔', '❣️', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '💯', '👍',
  '👎', '👏', '🙌', '🤝', '🙏', '💪', '🧠', '👀', '🧑‍💻', '🦸', '🦹', '🧙', '🧚', '🧜', '🧛', '🧟', '🧑‍🚀', '🧑‍🔬', '🧑‍🎨',
  '🧑‍🎤', '🧑‍🍳', '🧑‍🎓', '🧑‍🏫', '🧑‍🏭', '🧑‍🔧', '🧑‍🌾', '🧑‍🚒', '👮', '🕵️', '💂', '👷', '🤴', '👸', '👳', '👲', '🧕', '🤵',
  '👰', '🤰', '🤱', '👼', '🎅', '🤶', '🧑‍🎄', '🧝', '🧞', '🧟', '🧑‍🦱', '🧑‍🦰', '🧑‍🦳', '🧑‍🦲', '👶', '🧒', '👦', '👧', '🧑', '👨',
  '👩', '🧓', '👴', '👵', '🙍', '🙎', '🙅', '🙆', '💁', '🙋', '🧏', '🙇', '🤦', '🤷', '🧑‍⚕️', '🧑‍⚖️', '🧑‍✈️', '🧑‍💼', '🧑‍🔧', '🧑‍🏭',
  '🧑‍🌾', '🧑‍🍳', '🧑‍🎓', '🧑‍🎤', '🧑‍🎨', '🧑‍🏫', '🧑‍🔬', '🧑‍💻', '🧑‍🚀', '🧑‍🚒', '⚽', '🏀', '🏈', '⚾', '🥎', '🎾', '🏐', '🏉', '🥏', '🎳',
  '🏏', '🏑', '🏒', '🥍', '🏓', '🏸', '🥊', '🥋', '🥅', '⛳', '⛸️', '🎣', '🤿', '🎽', '🎿', '🏂', '🛷', '🥌', '🎯', '🎮', '🎲',
  '🧩', '🧸', '🪅', '🪆', '🎊', '🎉', '🎋', '🎍', '🎎', '🎏', '🎐', '🎑', '🧧', '🎁', '🎀', '🪢', '✉️', '📧', '📩', '📨',
  '📧', '💌', '📮', '📪', '📫', '📬', '📭', '📦', '📊', '📈', '📉', '🗓️', '🗒️', '📅', '📆', '🗓️', '📇', '📜', '📋', '📁',
  '📂', '🗂️', '🗞️', '📰', '🗞️', '📖', '📚', '🔗', '📎', '🖇️', '✂️', '🖊️', '🖋️', '✒️', '✏️', '🖍️', '🖌️', '🔍', '🔎', '💡',
  '🔦', '🕯️', '🗑️', '🛢️', '🚿', '🛁', '🚽', '🧻', '🧼', '🪥', '🧴', '🧽', '🧹', '🧺', '🪣', '🔑', '🗝️', '🔐', '🔒', '🔓',
  '🔔', '🔕', '📣', '📢', '💬', '💭', '🗣️', '👤', '👥', '🫂', '👣', '🦰', '🦱', '🦳', '🦲', '🧑‍🦰', '🧑‍🦱', '🧑‍🦳', '🧑‍🦲',
  '🧔', '👩‍🦰', '👩‍🦱', '👩‍🦳', '👩‍🦲', '👨‍🦰', '👨‍🦱', '👨‍🦳', '👨‍🦲', '👱‍♀️', '👱', '👱‍♂️', '🙍‍♀️', '🙍', '🙍‍♂️', '🙎‍♀️', '🙎', '🙎‍♂️',
  '🙅‍♀️', '🙅', '🙅‍♂️', '🙆‍♀️', '🙆', '🙆‍♂️', '💁‍♀️', '💁', '💁‍♂️', '🙋‍♀️', '🙋', '🙋‍♂️', '🧏‍♀️', '🧏', '🧏‍♂️', '🙇‍♀️', '🙇', '🙇‍♂️',
  '🤦‍♀️', '🤦', '🤦‍♂️', '🤷‍♀️', '🤷', '🤷‍♂️', '🧑‍⚕️', '👩‍⚕️', '👨‍⚕️', '🧑‍🎓', '👩‍🎓', '👨‍🎓', '🧑‍🏫', '👩‍🏫', '👨‍🏫', '🧑‍⚖️', '👩‍⚖️', '👨‍⚖️',
  '🧑‍🌾', '👩‍🌾', '👨‍🌾', '🧑‍🍳', '👩‍🍳', '👨‍🍳', '🧑‍🔧', '👩‍🔧', '👨‍🔧', '🧑‍🏭', '👩‍🏭', '👨‍🏭', '🧑‍💼', '👩‍💼', '👨‍💼', '🧑‍🔬', '👩‍🔬',
  '👨‍🔬', '🧑‍💻', '👩‍💻', '👨‍💻', '🧑‍🎤', '👩‍🎤', '👨‍🎤', '🧑‍🎨', '👩‍🎨', '👨‍🎨', '🧑‍✈️', '👩‍✈️', '👨‍✈️', '🧑‍🚀', '👩‍🚀', '👨‍🚀', '🧑‍🚒',
  '👩‍🚒', '👨‍🚒', '👮‍♀️', '👮', '👮‍♂️', '🕵️‍♀️', '🕵️', '🕵️‍♂️', '💂‍♀️', '💂', '💂‍♂️', '👷‍♀️', '👷', '👷‍♂️', '🤴', '👸', '👳‍♀️', '👳',
  '👳‍♂️', '👲', '🧕', '🤵‍♀️', '🤵', '👰‍♀️', '👰', '👰‍♂️', '🤰', '🤱', '👼', '🎅', '🤶', '🧑‍🎄', '🧝‍♀️', '🧝', '🧝‍♂️', '🧞‍♀️',
  '🧞', '🧞‍♂️', '🧟‍♀️', '🧟', '🧟‍♂️', '🧑‍🤝‍🧑', '🧑‍🦰', '🧑‍🦱', '🧑‍🦳', '🧑‍🦲', '🧔', '👩‍🦰', '👩‍🦱', '👩‍🦳', '👩‍🦲', '👨‍🦰', '👨‍🦱',
  '👨‍🦳', '👨‍🦲', '👱‍♀️', '👱', '👱‍♂️', '🙍‍♀️', '🙍', '🙍‍♂️', '🙎‍♀️', '🙎', '🙎‍♂️', '🙅‍♀️', '🙅', '🙅‍♂️', '🙆‍♀️', '🙆', '🙆‍♂️',
  '💁‍♀️', '💁', '💁‍♂️', '🙋‍♀️', '🙋', '🙋‍♂️', '🧏‍♀️', '🧏', '🧏‍♂️', '🙇‍♀️', '🙇', '🙇‍♂️', '🤦‍♀️', '🤦', '🤦‍♂️', '🤷‍♀️', '🤷', '🤷‍♂️',
  '🧑‍⚕️', '👩‍⚕️', '👨‍⚕️', '🧑‍🎓', '👩‍🎓', '👨‍🎓', '🧑‍🏫', '👩‍🏫', '👨‍🏫', '🧑‍⚖️', '👩‍⚖️', '👨‍⚖️', '🧑‍🌾', '👩‍🌾', '👨‍🌾', '🧑‍🍳', '👩‍🍳',
  '👨‍🍳', '🧑‍🔧', '👩‍🔧', '👨‍🔧', '🧑‍🏭', '👩‍🏭', '👨‍🏭', '🧑‍💼', '👩‍💼', '👨‍💼', '🧑‍🔬', '👩‍🔬', '👨‍🔬', '🧑‍💻', '👩‍💻', '👨‍💻',
  '🧑‍🎤', '👩‍🎤', '👨‍🎤', '🧑‍🎨', '👩‍🎨', '👨‍🎨', '🧑‍✈️', '👩‍✈️', '👨‍✈️', '🧑‍🚀', '👩‍🚀', '👨‍🚀', '🧑‍🚒', '👩‍🚒', '👨‍🚒', '👮‍♀️', '👮',
  '👮‍♂️', '🕵️‍♀️', '🕵️', '🕵️‍♂️', '💂‍♀️', '💂', '💂‍♂️', '👷‍♀️', '👷', '👷‍♂️', '🤴', '👸', '👳‍♀️', '👳', '👳‍♂️', '👲', '🧕', '🤵‍♀️',
  '🤵', '👰‍♀️', '👰', '👰‍♂️', '🤰', '🤱', '👼', '🎅', '🤶', '🧑‍🎄', '🧝‍♀️', '🧝', '🧝‍♂️', '🧞‍♀️', '🧞', '🧞‍♂️', '🧟‍♀️', '🧟',
  '🧟‍♂️', '⚽', '🏀', '🏈', '⚾', '🥎', '🎾', '🏐', '🏉', '🥏', '🎳', '🏏', '🏑', '🏒', '🥍', '🏓', '🏸', '🥊', '🥋',
  '🥅', '⛳', '⛸️', '🎣', '🤿', '🎽', '🎿', '🏂', '🛷', '🥌', '🎯', '🎮', '🎲', '🧩', '🧸', '🪅', '🪆', '🎊', '🎉',
  '🎋', '🎍', '🎎', '🎏', '🎐', '🎑', '🧧', '🎁', '🎀', '🪢', '✉️', '📧', '📩', '📨', '📧', '💌', '📮', '📪', '📫',
  '📬', '📭', '📦', '📊', '📈', '📉', '🗓️', '🗒️', '📅', '📆', '🗓️', '📇', '📜', '📋', '📁', '📂', '🗂️', '🗞️', '📰',
  '🗞️', '📖', '📚', '🔗', '📎', '🖇️', '✂️', '🖊️', '🖋️', '✒️', '✏️', '🖍️', '🖌️', '🔍', '🔎', '💡', '🔦', '🕯️', '🗑️',
  '🛢️', '🚿', '🛁', '🚽', '🧻', '🧼', '🪥', '🧴', '🧽', '🧹', '🧺', '🪣', '🔑', '🗝️', '🔐', '🔒', '🔓', '🔔', '🔕',
  '📣', '📢', '💬', '💭', '🗣️', '👤', '👥', '🫂', '👣', '🧡', '💛', '💚', '💙', '💜', '🤎', '🖤', '🤍', '❤️‍🔥', '❤️‍🩹',
  '💔', '❣️', '💕', '💞', '💓', '💗', '💖', '💘', '💝',
];


function AvatarSelectionModal({ currentAvatar, onClose, onSave }) {
  const [selectedAvatar, setSelectedAvatar] = useState(currentAvatar);

  const handleSave = () => {
    onSave(selectedAvatar);
  };

  return (
    <ListAndInfoModal title="Choisir un Avatar" onClose={onClose} sizeClass="max-w-full sm:max-w-md">
      <div className="text-center mb-4">
        <p className="text-lg text-text mb-2">Votre avatar actuel:</p>
        <span className="text-7xl">{currentAvatar}</span>
      </div>

      <div className="text-center mb-6">
        <p className="text-lg text-text mb-2">Nouvel avatar sélectionné:</p>
        <span className="text-7xl">{selectedAvatar}</span>
      </div>

      <div className="grid grid-cols-6 sm:grid-cols-8 gap-2 max-h-60 overflow-y-auto custom-scrollbar p-2 bg-neutralBg rounded-lg shadow-inner mb-6">
        {emojis.map((emoji, index) => (
          <button
            key={index}
            className={`p-2 rounded-lg text-3xl hover:bg-primary/20 transition duration-150 ${selectedAvatar === emoji ? 'bg-primary/30' : ''}`}
            onClick={() => setSelectedAvatar(emoji)}
          >
            {emoji}
          </button>
        ))}
      </div>

      <div className="flex justify-end gap-3">
        <button
          onClick={onClose}
          className="bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 text-sm"
        >
          Annuler
        </button>
        <button
          onClick={handleSave}
          className="bg-primary hover:bg-secondary text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 text-sm"
        >
          Enregistrer
        </button>
      </div>
    </ListAndInfoModal>
  );
}

export default AvatarSelectionModal;
